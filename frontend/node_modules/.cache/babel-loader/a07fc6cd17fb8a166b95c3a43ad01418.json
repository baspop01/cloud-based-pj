{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nvar routes = [{\n  path: '/',\n  name: 'Home',\n  meta: {\n    login: true\n  },\n  component: function component() {\n    return import('../views/Home.vue');\n  } // set home as path '/'\n\n}, {\n  path: '/movie/:id',\n  name: 'Book Ticket',\n  meta: {\n    login: true\n  },\n  component: function component() {\n    return import('../views/movie.vue');\n  }\n}, {\n  path: '/user/login',\n  name: 'login',\n  component: function component() {\n    return import('../views/Login.vue');\n  }\n}, {\n  path: '/booking/:orderId',\n  name: 'Confirm Ticket',\n  component: function component() {\n    return import('../views/Booking.vue');\n  }\n}];\nvar router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  var isLoggedIn = !!localStorage.getItem('token');\n\n  if (to.meta.login && !isLoggedIn) {\n    alert('Please login first!');\n    next({\n      path: '/user/login'\n    });\n  }\n\n  next();\n});\nexport default router;","map":{"version":3,"sources":["D:/Work/ปี2เทอม2/webpro/BIG-PROJECT/frontend/src/router/index.js"],"names":["Vue","VueRouter","use","routes","path","name","meta","login","component","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","isLoggedIn","localStorage","getItem","alert"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,SAAR;AACA,IAAME,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAHR;AAIEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,mBAAP,CAAN;AAAA,GAJb,CAI+C;;AAJ/C,CADa,EAOb;AACEJ,EAAAA,IAAI,EAAE,YADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAHR;AAIEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAJb,CAPa,EAab;AACEJ,EAAAA,IAAI,EAAE,aADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEG,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAHb,CAba,EAkBb;AACEJ,EAAAA,IAAI,EAAE,mBADR;AAEEC,EAAAA,IAAI,EAAE,gBAFR;AAGEG,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,sBAAP,CAAN;AAAA;AAHb,CAlBa,CAAf;AAyBA,IAAMC,MAAM,GAAG,IAAIR,SAAJ,CAAc;AAC3BS,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BX,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAM,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,UAAU,GAAG,CAAC,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAArB;;AACA,MAAIL,EAAE,CAACV,IAAH,CAAQC,KAAR,IAAiB,CAACY,UAAtB,EAAkC;AAChCG,IAAAA,KAAK,CAAC,qBAAD,CAAL;AACAJ,IAAAA,IAAI,CAAC;AAAEd,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAJ;AACD;;AAEDc,EAAAA,IAAI;AACL,CARD;AAUA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    meta: { login: true },\r\n    component: () => import('../views/Home.vue') // set home as path '/'\r\n  },\r\n  {\r\n    path: '/movie/:id',\r\n    name: 'Book Ticket',\r\n    meta: { login: true },\r\n    component: () => import('../views/movie.vue')\r\n  },\r\n  {\r\n    path: '/user/login',\r\n    name: 'login',\r\n    component: () => import('../views/Login.vue')\r\n  },\r\n  {\r\n    path: '/booking/:orderId',\r\n    name: 'Confirm Ticket',\r\n    component: () => import('../views/Booking.vue')\r\n  },\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const isLoggedIn = !!localStorage.getItem('token')\r\n  if (to.meta.login && !isLoggedIn) {\r\n    alert('Please login first!')\r\n    next({ path: '/user/login' })\r\n  }\r\n\r\n  next()\r\n})\r\n\r\nexport default router\r\n"]},"metadata":{},"sourceType":"module"}